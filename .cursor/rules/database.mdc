---
description: 
globs: *.sql
alwaysApply: false
---
- Use PostgreSQL 15+ as the relational database
- Use identity column instead of BIGSERIAL for auto-incrementing primary key. For example
```SQL
CREATE TABLE foo
(
    id   BIGINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY
);
```
- Use SMALLINT for EnumWithInt column
- Always use TIMESTAMPTZ(3) for a timestamp
```SQL
CREATE TABLE foo
(
    id           BIGINT         NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    created_at   TIMESTAMPTZ(3) NOT NULL DEFAULT NOW()
);
```
- Use JSON type for a [JsonField.java](mdc:ikeyit-common/ikeyit-common-data/src/main/java/com/ikeyit/common/data/JsonField.java) column